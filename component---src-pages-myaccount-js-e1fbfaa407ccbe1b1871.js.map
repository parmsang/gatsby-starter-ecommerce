{"version":3,"sources":["webpack:///component---src-pages-myaccount-js-e1fbfaa407ccbe1b1871.js","webpack:///./src/components/OrderItemList/index.js","webpack:///./src/pages/myaccount.js"],"names":["webpackJsonp","524","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_gatsbyLink","_gatsbyLink2","_semanticUiReact","_ref","orders","loading","createElement","Loader","active","inline","length","Message","warning","Header","to","as","map","order","id","billing_address","shipping_address","status","meta","order_items","completed","price","display_price","with_tax","formatted","Segment","Group","key","Label","icon","color","content","toUpperCase","JSON","stringify","horizontal","line_1","line_2","city","postcode","county","country","534","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_extends","assign","target","i","arguments","source","hasOwnProperty","_reactHelmet","_reactHelmet2","_OrderItemList","_OrderItemList2","_moltin","MyAccount","_React$Component","_temp","_this","_ret","this","_len","args","Array","_key","apply","concat","state","componentDidMount","_this2","token","localStorage","getItem","navigateTo","getOrders","then","data","included","setState","catch","error","console","log","render","title","Component"],"mappings":"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","file":"component---src-pages-myaccount-js-e1fbfaa407ccbe1b1871.js","sourcesContent":["webpackJsonp([94819948077106],{\n\n/***/ 524:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(46);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _semanticUiReact = __webpack_require__(28);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (_ref) {\n\t  var orders = _ref.orders,\n\t      loading = _ref.loading;\n\t\n\t  if (loading) return _react2.default.createElement(_semanticUiReact.Loader, { active: true, inline: 'centered' });\n\t\n\t  if (orders.length === 0) {\n\t    return _react2.default.createElement(\n\t      _semanticUiReact.Message,\n\t      { warning: true },\n\t      _react2.default.createElement(\n\t        _semanticUiReact.Message.Header,\n\t        null,\n\t        'No recent orders'\n\t      ),\n\t      _react2.default.createElement(\n\t        'p',\n\t        null,\n\t        'When you place an order, they will appear here.',\n\t        ' ',\n\t        _react2.default.createElement(\n\t          _gatsbyLink2.default,\n\t          { to: '/' },\n\t          'Go shopping'\n\t        ),\n\t        '.'\n\t      )\n\t    );\n\t  }\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    null,\n\t    _react2.default.createElement(\n\t      _semanticUiReact.Header,\n\t      { as: 'h1' },\n\t      'My previous orders'\n\t    ),\n\t    orders.map(function (order) {\n\t      var id = order.id,\n\t          billing_address = order.billing_address,\n\t          shipping_address = order.shipping_address,\n\t          status = order.status,\n\t          meta = order.meta,\n\t          order_items = order.order_items;\n\t\n\t      var completed = status === 'complete';\n\t      var price = meta.display_price.with_tax.formatted;\n\t\n\t      return _react2.default.createElement(\n\t        _semanticUiReact.Segment.Group,\n\t        { key: id },\n\t        _react2.default.createElement(\n\t          _semanticUiReact.Segment,\n\t          null,\n\t          _react2.default.createElement(\n\t            _semanticUiReact.Header,\n\t            { as: 'h4' },\n\t            price\n\t          ),\n\t          _react2.default.createElement(_semanticUiReact.Label, {\n\t            icon: completed ? 'check' : null,\n\t            color: completed ? 'green' : null,\n\t            content: status.toUpperCase()\n\t          }),\n\t          _react2.default.createElement(\n\t            'pre',\n\t            null,\n\t            JSON.stringify(order_items, '\\t', 2)\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          _semanticUiReact.Segment.Group,\n\t          { horizontal: true },\n\t          _react2.default.createElement(\n\t            _semanticUiReact.Segment,\n\t            null,\n\t            _react2.default.createElement(\n\t              _semanticUiReact.Header,\n\t              { as: 'h4' },\n\t              'Billing address:'\n\t            ),\n\t            _react2.default.createElement(\n\t              'p',\n\t              null,\n\t              billing_address.line_1,\n\t              _react2.default.createElement('br', null),\n\t              billing_address.line_2,\n\t              _react2.default.createElement('br', null),\n\t              billing_address.city,\n\t              _react2.default.createElement('br', null),\n\t              billing_address.postcode,\n\t              _react2.default.createElement('br', null),\n\t              billing_address.county,\n\t              _react2.default.createElement('br', null),\n\t              billing_address.country\n\t            )\n\t          ),\n\t          _react2.default.createElement(\n\t            _semanticUiReact.Segment,\n\t            null,\n\t            _react2.default.createElement(\n\t              _semanticUiReact.Header,\n\t              { as: 'h4' },\n\t              'Shipping address:'\n\t            ),\n\t            _react2.default.createElement(\n\t              'p',\n\t              null,\n\t              shipping_address.line_1,\n\t              _react2.default.createElement('br', null),\n\t              shipping_address.line_2,\n\t              _react2.default.createElement('br', null),\n\t              shipping_address.city,\n\t              _react2.default.createElement('br', null),\n\t              shipping_address.postcode,\n\t              _react2.default.createElement('br', null),\n\t              shipping_address.county,\n\t              _react2.default.createElement('br', null),\n\t              shipping_address.country\n\t            )\n\t          )\n\t        )\n\t      );\n\t    })\n\t  );\n\t};\n\t\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 534:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(46);\n\t\n\tvar _reactHelmet = __webpack_require__(44);\n\t\n\tvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\t\n\tvar _OrderItemList = __webpack_require__(524);\n\t\n\tvar _OrderItemList2 = _interopRequireDefault(_OrderItemList);\n\t\n\tvar _moltin = __webpack_require__(88);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MyAccount = function (_React$Component) {\n\t  _inherits(MyAccount, _React$Component);\n\t\n\t  function MyAccount() {\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, MyAccount);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n\t      loading: true,\n\t      orders: []\n\t    }, _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  MyAccount.prototype.componentDidMount = function componentDidMount() {\n\t    var _this2 = this;\n\t\n\t    var token = localStorage.getItem('customerToken');\n\t\n\t    if (!token) {\n\t      (0, _gatsbyLink.navigateTo)('/login');\n\t    }\n\t    (0, _moltin.getOrders)(token).then(function (_ref) {\n\t      var data = _ref.data,\n\t          included = _ref.included,\n\t          meta = _ref.meta;\n\t\n\t      var orders = data.map(function (order) {\n\t        return (\n\t          // const orderItems = order.relationships.items.data\n\t          // const includedItems = included.items.map(i => i.id === )\n\t\n\t          _extends({}, order)\n\t        );\n\t      });\n\t\n\t      _this2.setState({\n\t        loading: false,\n\t        orders: orders,\n\t        included: included,\n\t        meta: meta\n\t      });\n\t    }).catch(function (error) {\n\t      console.log(error);\n\t    });\n\t  };\n\t\n\t  MyAccount.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      'div',\n\t      null,\n\t      _react2.default.createElement(_reactHelmet2.default, { title: 'My Account' }),\n\t      _react2.default.createElement(_OrderItemList2.default, this.state)\n\t    );\n\t  };\n\t\n\t  return MyAccount;\n\t}(_react2.default.Component);\n\t\n\texports.default = MyAccount;\n\tmodule.exports = exports['default'];\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-myaccount-js-e1fbfaa407ccbe1b1871.js","import React from 'react'\nimport Link from 'gatsby-link'\nimport { Header, Loader, Message, Label, Segment } from 'semantic-ui-react'\n\nexport default ({ orders, loading }) => {\n  if (loading) return <Loader active inline=\"centered\" />\n\n  if (orders.length === 0) {\n    return (\n      <Message warning>\n        <Message.Header>No recent orders</Message.Header>\n        <p>\n          When you place an order, they will appear here.{' '}\n          <Link to=\"/\">Go shopping</Link>.\n        </p>\n      </Message>\n    )\n  }\n\n  return (\n    <div>\n      <Header as=\"h1\">My previous orders</Header>\n\n      {orders.map(order => {\n        const {\n          id,\n          billing_address,\n          shipping_address,\n          status,\n          meta,\n          order_items,\n        } = order\n        const completed = status === 'complete'\n        const price = meta.display_price.with_tax.formatted\n\n        return (\n          <Segment.Group key={id}>\n            <Segment>\n              <Header as=\"h4\">{price}</Header>\n              <Label\n                icon={completed ? 'check' : null}\n                color={completed ? 'green' : null}\n                content={status.toUpperCase()}\n              />\n              <pre>{JSON.stringify(order_items, '\\t', 2)}</pre>\n            </Segment>\n            <Segment.Group horizontal>\n              <Segment>\n                <Header as=\"h4\">Billing address:</Header>\n                <p>\n                  {billing_address.line_1}\n                  <br />\n                  {billing_address.line_2}\n                  <br />\n                  {billing_address.city}\n                  <br />\n                  {billing_address.postcode}\n                  <br />\n                  {billing_address.county}\n                  <br />\n                  {billing_address.country}\n                </p>\n              </Segment>\n              <Segment>\n                <Header as=\"h4\">Shipping address:</Header>\n                <p>\n                  {shipping_address.line_1}\n                  <br />\n                  {shipping_address.line_2}\n                  <br />\n                  {shipping_address.city}\n                  <br />\n                  {shipping_address.postcode}\n                  <br />\n                  {shipping_address.county}\n                  <br />\n                  {shipping_address.country}\n                </p>\n              </Segment>\n            </Segment.Group>\n          </Segment.Group>\n        )\n      })}\n    </div>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/OrderItemList/index.js","import React from 'react'\nimport { navigateTo } from 'gatsby-link'\nimport Helmet from 'react-helmet'\nimport OrderItemList from '../components/OrderItemList'\n\nimport { getOrders } from '../../lib/moltin'\n\nexport default class MyAccount extends React.Component {\n  state = {\n    loading: true,\n    orders: [],\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('customerToken')\n\n    if (!token) {\n      navigateTo('/login')\n    }\n    getOrders(token)\n      .then(({ data, included, meta }) => {\n        const orders = data.map(order =>\n          // const orderItems = order.relationships.items.data\n          // const includedItems = included.items.map(i => i.id === )\n\n          ({\n            ...order,\n          })\n        )\n\n        this.setState({\n          loading: false,\n          orders,\n          included,\n          meta,\n        })\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }\n\n  render() {\n    return (\n      <div>\n        <Helmet title=\"My Account\" />\n        <OrderItemList {...this.state} />\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/myaccount.js"],"sourceRoot":""}